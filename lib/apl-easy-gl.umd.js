!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(this,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)e.d(r,u,function(n){return t[n]}.bind(null,u));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=25)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadFile=function(t){return new Promise(function(n,e){var r=new XMLHttpRequest;r.open("GET",t),r.overrideMimeType("text/plain"),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&200===r.status&&n(r.responseText)},r.send()})}},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"EPSILON",function(){return h}),e.d(r,"ARRAY_TYPE",function(){return M}),e.d(r,"RANDOM",function(){return m}),e.d(r,"setMatrixArrayType",function(){return b}),e.d(r,"toRadian",function(){return v}),e.d(r,"equals",function(){return E});var u={};e.r(u),e.d(u,"create",function(){return T}),e.d(u,"clone",function(){return w}),e.d(u,"copy",function(){return g}),e.d(u,"identity",function(){return _}),e.d(u,"fromValues",function(){return x}),e.d(u,"set",function(){return y}),e.d(u,"transpose",function(){return R}),e.d(u,"invert",function(){return A}),e.d(u,"adjoint",function(){return P}),e.d(u,"determinant",function(){return L}),e.d(u,"multiply",function(){return O}),e.d(u,"rotate",function(){return N}),e.d(u,"scale",function(){return F}),e.d(u,"fromRotation",function(){return S}),e.d(u,"fromScaling",function(){return I}),e.d(u,"str",function(){return q}),e.d(u,"frob",function(){return D}),e.d(u,"LDU",function(){return C}),e.d(u,"add",function(){return U}),e.d(u,"subtract",function(){return X}),e.d(u,"exactEquals",function(){return j}),e.d(u,"equals",function(){return G}),e.d(u,"multiplyScalar",function(){return B}),e.d(u,"multiplyScalarAndAdd",function(){return V}),e.d(u,"mul",function(){return W}),e.d(u,"sub",function(){return k});var a={};e.r(a),e.d(a,"create",function(){return Y}),e.d(a,"clone",function(){return H}),e.d(a,"copy",function(){return z}),e.d(a,"identity",function(){return K}),e.d(a,"fromValues",function(){return J}),e.d(a,"set",function(){return Q}),e.d(a,"invert",function(){return Z}),e.d(a,"determinant",function(){return $}),e.d(a,"multiply",function(){return tt}),e.d(a,"rotate",function(){return nt}),e.d(a,"scale",function(){return et}),e.d(a,"translate",function(){return rt}),e.d(a,"fromRotation",function(){return ut}),e.d(a,"fromScaling",function(){return at}),e.d(a,"fromTranslation",function(){return ot}),e.d(a,"str",function(){return it}),e.d(a,"frob",function(){return ct}),e.d(a,"add",function(){return ft}),e.d(a,"subtract",function(){return st}),e.d(a,"multiplyScalar",function(){return lt}),e.d(a,"multiplyScalarAndAdd",function(){return dt}),e.d(a,"exactEquals",function(){return ht}),e.d(a,"equals",function(){return Mt}),e.d(a,"mul",function(){return mt}),e.d(a,"sub",function(){return bt});var o={};e.r(o),e.d(o,"create",function(){return pt}),e.d(o,"fromMat4",function(){return vt}),e.d(o,"clone",function(){return Et}),e.d(o,"copy",function(){return Tt}),e.d(o,"fromValues",function(){return wt}),e.d(o,"set",function(){return gt}),e.d(o,"identity",function(){return _t}),e.d(o,"transpose",function(){return xt}),e.d(o,"invert",function(){return yt}),e.d(o,"adjoint",function(){return Rt}),e.d(o,"determinant",function(){return At}),e.d(o,"multiply",function(){return Pt}),e.d(o,"translate",function(){return Lt}),e.d(o,"rotate",function(){return Ot}),e.d(o,"scale",function(){return Nt}),e.d(o,"fromTranslation",function(){return Ft}),e.d(o,"fromRotation",function(){return St}),e.d(o,"fromScaling",function(){return It}),e.d(o,"fromMat2d",function(){return qt}),e.d(o,"fromQuat",function(){return Dt}),e.d(o,"normalFromMat4",function(){return Ct}),e.d(o,"projection",function(){return Ut}),e.d(o,"str",function(){return Xt}),e.d(o,"frob",function(){return jt}),e.d(o,"add",function(){return Gt}),e.d(o,"subtract",function(){return Bt}),e.d(o,"multiplyScalar",function(){return Vt}),e.d(o,"multiplyScalarAndAdd",function(){return Wt}),e.d(o,"exactEquals",function(){return kt}),e.d(o,"equals",function(){return Yt}),e.d(o,"mul",function(){return Ht}),e.d(o,"sub",function(){return zt});var i={};e.r(i),e.d(i,"create",function(){return Kt}),e.d(i,"clone",function(){return Jt}),e.d(i,"copy",function(){return Qt}),e.d(i,"fromValues",function(){return Zt}),e.d(i,"set",function(){return $t}),e.d(i,"identity",function(){return tn}),e.d(i,"transpose",function(){return nn}),e.d(i,"invert",function(){return en}),e.d(i,"adjoint",function(){return rn}),e.d(i,"determinant",function(){return un}),e.d(i,"multiply",function(){return an}),e.d(i,"translate",function(){return on}),e.d(i,"scale",function(){return cn}),e.d(i,"rotate",function(){return fn}),e.d(i,"rotateX",function(){return sn}),e.d(i,"rotateY",function(){return ln}),e.d(i,"rotateZ",function(){return dn}),e.d(i,"fromTranslation",function(){return hn}),e.d(i,"fromScaling",function(){return Mn}),e.d(i,"fromRotation",function(){return mn}),e.d(i,"fromXRotation",function(){return bn}),e.d(i,"fromYRotation",function(){return pn}),e.d(i,"fromZRotation",function(){return vn}),e.d(i,"fromRotationTranslation",function(){return En}),e.d(i,"fromQuat2",function(){return Tn}),e.d(i,"getTranslation",function(){return wn}),e.d(i,"getScaling",function(){return gn}),e.d(i,"getRotation",function(){return _n}),e.d(i,"fromRotationTranslationScale",function(){return xn}),e.d(i,"fromRotationTranslationScaleOrigin",function(){return yn}),e.d(i,"fromQuat",function(){return Rn}),e.d(i,"frustum",function(){return An}),e.d(i,"perspective",function(){return Pn}),e.d(i,"perspectiveFromFieldOfView",function(){return Ln}),e.d(i,"ortho",function(){return On}),e.d(i,"lookAt",function(){return Nn}),e.d(i,"targetTo",function(){return Fn}),e.d(i,"str",function(){return Sn}),e.d(i,"frob",function(){return In}),e.d(i,"add",function(){return qn}),e.d(i,"subtract",function(){return Dn}),e.d(i,"multiplyScalar",function(){return Cn}),e.d(i,"multiplyScalarAndAdd",function(){return Un}),e.d(i,"exactEquals",function(){return Xn}),e.d(i,"equals",function(){return jn}),e.d(i,"mul",function(){return Gn}),e.d(i,"sub",function(){return Bn});var c={};e.r(c),e.d(c,"create",function(){return Vn}),e.d(c,"clone",function(){return Wn}),e.d(c,"length",function(){return kn}),e.d(c,"fromValues",function(){return Yn}),e.d(c,"copy",function(){return Hn}),e.d(c,"set",function(){return zn}),e.d(c,"add",function(){return Kn}),e.d(c,"subtract",function(){return Jn}),e.d(c,"multiply",function(){return Qn}),e.d(c,"divide",function(){return Zn}),e.d(c,"ceil",function(){return $n}),e.d(c,"floor",function(){return te}),e.d(c,"min",function(){return ne}),e.d(c,"max",function(){return ee}),e.d(c,"round",function(){return re}),e.d(c,"scale",function(){return ue}),e.d(c,"scaleAndAdd",function(){return ae}),e.d(c,"distance",function(){return oe}),e.d(c,"squaredDistance",function(){return ie}),e.d(c,"squaredLength",function(){return ce}),e.d(c,"negate",function(){return fe}),e.d(c,"inverse",function(){return se}),e.d(c,"normalize",function(){return le}),e.d(c,"dot",function(){return de}),e.d(c,"cross",function(){return he}),e.d(c,"lerp",function(){return Me}),e.d(c,"hermite",function(){return me}),e.d(c,"bezier",function(){return be}),e.d(c,"random",function(){return pe}),e.d(c,"transformMat4",function(){return ve}),e.d(c,"transformMat3",function(){return Ee}),e.d(c,"transformQuat",function(){return Te}),e.d(c,"rotateX",function(){return we}),e.d(c,"rotateY",function(){return ge}),e.d(c,"rotateZ",function(){return _e}),e.d(c,"angle",function(){return xe}),e.d(c,"str",function(){return ye}),e.d(c,"exactEquals",function(){return Re}),e.d(c,"equals",function(){return Ae}),e.d(c,"sub",function(){return Pe}),e.d(c,"mul",function(){return Le}),e.d(c,"div",function(){return Oe}),e.d(c,"dist",function(){return Ne}),e.d(c,"sqrDist",function(){return Fe}),e.d(c,"len",function(){return Se}),e.d(c,"sqrLen",function(){return Ie}),e.d(c,"forEach",function(){return qe});var f={};e.r(f),e.d(f,"create",function(){return De}),e.d(f,"clone",function(){return Ce}),e.d(f,"fromValues",function(){return Ue}),e.d(f,"copy",function(){return Xe}),e.d(f,"set",function(){return je}),e.d(f,"add",function(){return Ge}),e.d(f,"subtract",function(){return Be}),e.d(f,"multiply",function(){return Ve}),e.d(f,"divide",function(){return We}),e.d(f,"ceil",function(){return ke}),e.d(f,"floor",function(){return Ye}),e.d(f,"min",function(){return He}),e.d(f,"max",function(){return ze}),e.d(f,"round",function(){return Ke}),e.d(f,"scale",function(){return Je}),e.d(f,"scaleAndAdd",function(){return Qe}),e.d(f,"distance",function(){return Ze}),e.d(f,"squaredDistance",function(){return $e}),e.d(f,"length",function(){return tr}),e.d(f,"squaredLength",function(){return nr}),e.d(f,"negate",function(){return er}),e.d(f,"inverse",function(){return rr}),e.d(f,"normalize",function(){return ur}),e.d(f,"dot",function(){return ar}),e.d(f,"lerp",function(){return or}),e.d(f,"random",function(){return ir}),e.d(f,"transformMat4",function(){return cr}),e.d(f,"transformQuat",function(){return fr}),e.d(f,"str",function(){return sr}),e.d(f,"exactEquals",function(){return lr}),e.d(f,"equals",function(){return dr}),e.d(f,"sub",function(){return hr}),e.d(f,"mul",function(){return Mr}),e.d(f,"div",function(){return mr}),e.d(f,"dist",function(){return br}),e.d(f,"sqrDist",function(){return pr}),e.d(f,"len",function(){return vr}),e.d(f,"sqrLen",function(){return Er}),e.d(f,"forEach",function(){return Tr});var s={};e.r(s),e.d(s,"create",function(){return wr}),e.d(s,"identity",function(){return gr}),e.d(s,"setAxisAngle",function(){return _r}),e.d(s,"getAxisAngle",function(){return xr}),e.d(s,"multiply",function(){return yr}),e.d(s,"rotateX",function(){return Rr}),e.d(s,"rotateY",function(){return Ar}),e.d(s,"rotateZ",function(){return Pr}),e.d(s,"calculateW",function(){return Lr}),e.d(s,"slerp",function(){return Or}),e.d(s,"invert",function(){return Nr}),e.d(s,"conjugate",function(){return Fr}),e.d(s,"fromMat3",function(){return Sr}),e.d(s,"fromEuler",function(){return Ir}),e.d(s,"str",function(){return qr}),e.d(s,"clone",function(){return Dr}),e.d(s,"fromValues",function(){return Cr}),e.d(s,"copy",function(){return Ur}),e.d(s,"set",function(){return Xr}),e.d(s,"add",function(){return jr}),e.d(s,"mul",function(){return Gr}),e.d(s,"scale",function(){return Br}),e.d(s,"dot",function(){return Vr}),e.d(s,"lerp",function(){return Wr}),e.d(s,"length",function(){return kr}),e.d(s,"len",function(){return Yr}),e.d(s,"squaredLength",function(){return Hr}),e.d(s,"sqrLen",function(){return zr}),e.d(s,"normalize",function(){return Kr}),e.d(s,"exactEquals",function(){return Jr}),e.d(s,"equals",function(){return Qr}),e.d(s,"rotationTo",function(){return Zr}),e.d(s,"sqlerp",function(){return $r}),e.d(s,"setAxes",function(){return tu});var l={};e.r(l),e.d(l,"create",function(){return nu}),e.d(l,"clone",function(){return eu}),e.d(l,"fromValues",function(){return ru}),e.d(l,"fromRotationTranslationValues",function(){return uu}),e.d(l,"fromRotationTranslation",function(){return au}),e.d(l,"fromTranslation",function(){return ou}),e.d(l,"fromRotation",function(){return iu}),e.d(l,"fromMat4",function(){return cu}),e.d(l,"copy",function(){return fu}),e.d(l,"identity",function(){return su}),e.d(l,"set",function(){return lu}),e.d(l,"getReal",function(){return du}),e.d(l,"getDual",function(){return hu}),e.d(l,"setReal",function(){return Mu}),e.d(l,"setDual",function(){return mu}),e.d(l,"getTranslation",function(){return bu}),e.d(l,"translate",function(){return pu}),e.d(l,"rotateX",function(){return vu}),e.d(l,"rotateY",function(){return Eu}),e.d(l,"rotateZ",function(){return Tu}),e.d(l,"rotateByQuatAppend",function(){return wu}),e.d(l,"rotateByQuatPrepend",function(){return gu}),e.d(l,"rotateAroundAxis",function(){return _u}),e.d(l,"add",function(){return xu}),e.d(l,"multiply",function(){return yu}),e.d(l,"mul",function(){return Ru}),e.d(l,"scale",function(){return Au}),e.d(l,"dot",function(){return Pu}),e.d(l,"lerp",function(){return Lu}),e.d(l,"invert",function(){return Ou}),e.d(l,"conjugate",function(){return Nu}),e.d(l,"length",function(){return Fu}),e.d(l,"len",function(){return Su}),e.d(l,"squaredLength",function(){return Iu}),e.d(l,"sqrLen",function(){return qu}),e.d(l,"normalize",function(){return Du}),e.d(l,"str",function(){return Cu}),e.d(l,"exactEquals",function(){return Uu}),e.d(l,"equals",function(){return Xu});var d={};e.r(d),e.d(d,"create",function(){return ju}),e.d(d,"clone",function(){return Gu}),e.d(d,"fromValues",function(){return Bu}),e.d(d,"copy",function(){return Vu}),e.d(d,"set",function(){return Wu}),e.d(d,"add",function(){return ku}),e.d(d,"subtract",function(){return Yu}),e.d(d,"multiply",function(){return Hu}),e.d(d,"divide",function(){return zu}),e.d(d,"ceil",function(){return Ku}),e.d(d,"floor",function(){return Ju}),e.d(d,"min",function(){return Qu}),e.d(d,"max",function(){return Zu}),e.d(d,"round",function(){return $u}),e.d(d,"scale",function(){return ta}),e.d(d,"scaleAndAdd",function(){return na}),e.d(d,"distance",function(){return ea}),e.d(d,"squaredDistance",function(){return ra}),e.d(d,"length",function(){return ua}),e.d(d,"squaredLength",function(){return aa}),e.d(d,"negate",function(){return oa}),e.d(d,"inverse",function(){return ia}),e.d(d,"normalize",function(){return ca}),e.d(d,"dot",function(){return fa}),e.d(d,"cross",function(){return sa}),e.d(d,"lerp",function(){return la}),e.d(d,"random",function(){return da}),e.d(d,"transformMat2",function(){return ha}),e.d(d,"transformMat2d",function(){return Ma}),e.d(d,"transformMat3",function(){return ma}),e.d(d,"transformMat4",function(){return ba}),e.d(d,"rotate",function(){return pa}),e.d(d,"angle",function(){return va}),e.d(d,"str",function(){return Ea}),e.d(d,"exactEquals",function(){return Ta}),e.d(d,"equals",function(){return wa}),e.d(d,"len",function(){return ga}),e.d(d,"sub",function(){return _a}),e.d(d,"mul",function(){return xa}),e.d(d,"div",function(){return ya}),e.d(d,"dist",function(){return Ra}),e.d(d,"sqrDist",function(){return Aa}),e.d(d,"sqrLen",function(){return Pa}),e.d(d,"forEach",function(){return La});const h=1e-6;let M="undefined"!=typeof Float32Array?Float32Array:Array;const m=Math.random;function b(t){M=t}const p=Math.PI/180;function v(t){return t*p}function E(t,n){return Math.abs(t-n)<=h*Math.max(1,Math.abs(t),Math.abs(n))}function T(){let t=new M(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function w(t){let n=new M(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function g(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function _(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function x(t,n,e,r){let u=new M(4);return u[0]=t,u[1]=n,u[2]=e,u[3]=r,u}function y(t,n,e,r,u){return t[0]=n,t[1]=e,t[2]=r,t[3]=u,t}function R(t,n){if(t===n){let e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function A(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=e*a-u*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-u*o,t[3]=e*o,t):null}function P(t,n){let e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t}function L(t){return t[0]*t[3]-t[2]*t[1]}function O(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=e[0],c=e[1],f=e[2],s=e[3];return t[0]=r*i+a*c,t[1]=u*i+o*c,t[2]=r*f+a*s,t[3]=u*f+o*s,t}function N(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c+a*i,t[1]=u*c+o*i,t[2]=r*-i+a*c,t[3]=u*-i+o*c,t}function F(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=e[0],c=e[1];return t[0]=r*i,t[1]=u*i,t[2]=a*c,t[3]=o*c,t}function S(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t}function I(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function q(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function D(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function C(t,n,e,r){return t[2]=r[2]/r[0],e[0]=r[0],e[1]=r[1],e[3]=r[3]-t[2]*e[1],[t,n,e]}function U(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function X(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function j(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function G(t,n){let e=t[0],r=t[1],u=t[2],a=t[3],o=n[0],i=n[1],c=n[2],f=n[3];return Math.abs(e-o)<=h*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-c)<=h*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(a-f)<=h*Math.max(1,Math.abs(a),Math.abs(f))}function B(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function V(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}const W=O,k=X;function Y(){let t=new M(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function H(t){let n=new M(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function z(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function J(t,n,e,r,u,a){let o=new M(6);return o[0]=t,o[1]=n,o[2]=e,o[3]=r,o[4]=u,o[5]=a,o}function Q(t,n,e,r,u,a,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=u,t[4]=a,t[5]=o,t}function Z(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=n[4],i=n[5],c=e*a-r*u;return c?(c=1/c,t[0]=a*c,t[1]=-r*c,t[2]=-u*c,t[3]=e*c,t[4]=(u*i-a*o)*c,t[5]=(r*o-e*i)*c,t):null}function $(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=e[0],s=e[1],l=e[2],d=e[3],h=e[4],M=e[5];return t[0]=r*f+a*s,t[1]=u*f+o*s,t[2]=r*l+a*d,t[3]=u*l+o*d,t[4]=r*h+a*M+i,t[5]=u*h+o*M+c,t}function nt(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=Math.sin(e),s=Math.cos(e);return t[0]=r*s+a*f,t[1]=u*s+o*f,t[2]=r*-f+a*s,t[3]=u*-f+o*s,t[4]=i,t[5]=c,t}function et(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=e[0],s=e[1];return t[0]=r*f,t[1]=u*f,t[2]=a*s,t[3]=o*s,t[4]=i,t[5]=c,t}function rt(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=e[0],s=e[1];return t[0]=r,t[1]=u,t[2]=a,t[3]=o,t[4]=r*f+a*s+i,t[5]=u*f+o*s+c,t}function ut(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t[4]=0,t[5]=0,t}function at(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t}function ot(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t}function it(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ct(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ft(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t}function st(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t}function lt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t}function dt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t}function ht(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]}function Mt(t,n){let e=t[0],r=t[1],u=t[2],a=t[3],o=t[4],i=t[5],c=n[0],f=n[1],s=n[2],l=n[3],d=n[4],M=n[5];return Math.abs(e-c)<=h*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(r-f)<=h*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(u-s)<=h*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(a-l)<=h*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-d)<=h*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-M)<=h*Math.max(1,Math.abs(i),Math.abs(M))}const mt=tt,bt=st;function pt(){let t=new M(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function vt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function Et(t){let n=new M(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function Tt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function wt(t,n,e,r,u,a,o,i,c){let f=new M(9);return f[0]=t,f[1]=n,f[2]=e,f[3]=r,f[4]=u,f[5]=a,f[6]=o,f[7]=i,f[8]=c,f}function gt(t,n,e,r,u,a,o,i,c,f){return t[0]=n,t[1]=e,t[2]=r,t[3]=u,t[4]=a,t[5]=o,t[6]=i,t[7]=c,t[8]=f,t}function _t(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function xt(t,n){if(t===n){let e=n[1],r=n[2],u=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=u}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function yt(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],l=s*o-i*f,d=-s*a+i*c,h=f*a-o*c,M=e*l+r*d+u*h;return M?(M=1/M,t[0]=l*M,t[1]=(-s*r+u*f)*M,t[2]=(i*r-u*o)*M,t[3]=d*M,t[4]=(s*e-u*c)*M,t[5]=(-i*e+u*a)*M,t[6]=h*M,t[7]=(-f*e+r*c)*M,t[8]=(o*e-r*a)*M,t):null}function Rt(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8];return t[0]=o*s-i*f,t[1]=u*f-r*s,t[2]=r*i-u*o,t[3]=i*c-a*s,t[4]=e*s-u*c,t[5]=u*a-e*i,t[6]=a*f-o*c,t[7]=r*c-e*f,t[8]=e*o-r*a,t}function At(t){let n=t[0],e=t[1],r=t[2],u=t[3],a=t[4],o=t[5],i=t[6],c=t[7],f=t[8];return n*(f*a-o*c)+e*(-f*u+o*i)+r*(c*u-a*i)}function Pt(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=n[8],d=e[0],h=e[1],M=e[2],m=e[3],b=e[4],p=e[5],v=e[6],E=e[7],T=e[8];return t[0]=d*r+h*o+M*f,t[1]=d*u+h*i+M*s,t[2]=d*a+h*c+M*l,t[3]=m*r+b*o+p*f,t[4]=m*u+b*i+p*s,t[5]=m*a+b*c+p*l,t[6]=v*r+E*o+T*f,t[7]=v*u+E*i+T*s,t[8]=v*a+E*c+T*l,t}function Lt(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=n[8],d=e[0],h=e[1];return t[0]=r,t[1]=u,t[2]=a,t[3]=o,t[4]=i,t[5]=c,t[6]=d*r+h*o+f,t[7]=d*u+h*i+s,t[8]=d*a+h*c+l,t}function Ot(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=n[8],d=Math.sin(e),h=Math.cos(e);return t[0]=h*r+d*o,t[1]=h*u+d*i,t[2]=h*a+d*c,t[3]=h*o-d*r,t[4]=h*i-d*u,t[5]=h*c-d*a,t[6]=f,t[7]=s,t[8]=l,t}function Nt(t,n,e){let r=e[0],u=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=u*n[3],t[4]=u*n[4],t[5]=u*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function Ft(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function St(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function qt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function Dt(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=e+e,i=r+r,c=u+u,f=e*o,s=r*o,l=r*i,d=u*o,h=u*i,M=u*c,m=a*o,b=a*i,p=a*c;return t[0]=1-l-M,t[3]=s-p,t[6]=d+b,t[1]=s+p,t[4]=1-f-M,t[7]=h-m,t[2]=d-b,t[5]=h+m,t[8]=1-f-l,t}function Ct(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],l=n[9],d=n[10],h=n[11],M=n[12],m=n[13],b=n[14],p=n[15],v=e*i-r*o,E=e*c-u*o,T=e*f-a*o,w=r*c-u*i,g=r*f-a*i,_=u*f-a*c,x=s*m-l*M,y=s*b-d*M,R=s*p-h*M,A=l*b-d*m,P=l*p-h*m,L=d*p-h*b,O=v*L-E*P+T*A+w*R-g*y+_*x;return O?(O=1/O,t[0]=(i*L-c*P+f*A)*O,t[1]=(c*R-o*L-f*y)*O,t[2]=(o*P-i*R+f*x)*O,t[3]=(u*P-r*L-a*A)*O,t[4]=(e*L-u*R+a*y)*O,t[5]=(r*R-e*P-a*x)*O,t[6]=(m*_-b*g+p*w)*O,t[7]=(b*T-M*_-p*E)*O,t[8]=(M*g-m*T+p*v)*O,t):null}function Ut(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Xt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function jt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function Gt(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t}function Bt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}function Vt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t}function Wt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t}function kt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function Yt(t,n){let e=t[0],r=t[1],u=t[2],a=t[3],o=t[4],i=t[5],c=t[6],f=t[7],s=t[8],l=n[0],d=n[1],M=n[2],m=n[3],b=n[4],p=n[5],v=n[6],E=n[7],T=n[8];return Math.abs(e-l)<=h*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(r-d)<=h*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(u-M)<=h*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(a-m)<=h*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-b)<=h*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(i-p)<=h*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(c-v)<=h*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-E)<=h*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(s-T)<=h*Math.max(1,Math.abs(s),Math.abs(T))}const Ht=Pt,zt=Bt;function Kt(){let t=new M(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Jt(t){let n=new M(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function Qt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Zt(t,n,e,r,u,a,o,i,c,f,s,l,d,h,m,b){let p=new M(16);return p[0]=t,p[1]=n,p[2]=e,p[3]=r,p[4]=u,p[5]=a,p[6]=o,p[7]=i,p[8]=c,p[9]=f,p[10]=s,p[11]=l,p[12]=d,p[13]=h,p[14]=m,p[15]=b,p}function $t(t,n,e,r,u,a,o,i,c,f,s,l,d,h,M,m,b){return t[0]=n,t[1]=e,t[2]=r,t[3]=u,t[4]=a,t[5]=o,t[6]=i,t[7]=c,t[8]=f,t[9]=s,t[10]=l,t[11]=d,t[12]=h,t[13]=M,t[14]=m,t[15]=b,t}function tn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nn(t,n){if(t===n){let e=n[1],r=n[2],u=n[3],a=n[6],o=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=a,t[11]=n[14],t[12]=u,t[13]=o,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function en(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],l=n[9],d=n[10],h=n[11],M=n[12],m=n[13],b=n[14],p=n[15],v=e*i-r*o,E=e*c-u*o,T=e*f-a*o,w=r*c-u*i,g=r*f-a*i,_=u*f-a*c,x=s*m-l*M,y=s*b-d*M,R=s*p-h*M,A=l*b-d*m,P=l*p-h*m,L=d*p-h*b,O=v*L-E*P+T*A+w*R-g*y+_*x;return O?(O=1/O,t[0]=(i*L-c*P+f*A)*O,t[1]=(u*P-r*L-a*A)*O,t[2]=(m*_-b*g+p*w)*O,t[3]=(d*g-l*_-h*w)*O,t[4]=(c*R-o*L-f*y)*O,t[5]=(e*L-u*R+a*y)*O,t[6]=(b*T-M*_-p*E)*O,t[7]=(s*_-d*T+h*E)*O,t[8]=(o*P-i*R+f*x)*O,t[9]=(r*R-e*P-a*x)*O,t[10]=(M*g-m*T+p*v)*O,t[11]=(l*T-s*g-h*v)*O,t[12]=(i*y-o*A-c*x)*O,t[13]=(e*A-r*y+u*x)*O,t[14]=(m*E-M*w-b*v)*O,t[15]=(s*w-l*E+d*v)*O,t):null}function rn(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],l=n[9],d=n[10],h=n[11],M=n[12],m=n[13],b=n[14],p=n[15];return t[0]=i*(d*p-h*b)-l*(c*p-f*b)+m*(c*h-f*d),t[1]=-(r*(d*p-h*b)-l*(u*p-a*b)+m*(u*h-a*d)),t[2]=r*(c*p-f*b)-i*(u*p-a*b)+m*(u*f-a*c),t[3]=-(r*(c*h-f*d)-i*(u*h-a*d)+l*(u*f-a*c)),t[4]=-(o*(d*p-h*b)-s*(c*p-f*b)+M*(c*h-f*d)),t[5]=e*(d*p-h*b)-s*(u*p-a*b)+M*(u*h-a*d),t[6]=-(e*(c*p-f*b)-o*(u*p-a*b)+M*(u*f-a*c)),t[7]=e*(c*h-f*d)-o*(u*h-a*d)+s*(u*f-a*c),t[8]=o*(l*p-h*m)-s*(i*p-f*m)+M*(i*h-f*l),t[9]=-(e*(l*p-h*m)-s*(r*p-a*m)+M*(r*h-a*l)),t[10]=e*(i*p-f*m)-o*(r*p-a*m)+M*(r*f-a*i),t[11]=-(e*(i*h-f*l)-o*(r*h-a*l)+s*(r*f-a*i)),t[12]=-(o*(l*b-d*m)-s*(i*b-c*m)+M*(i*d-c*l)),t[13]=e*(l*b-d*m)-s*(r*b-u*m)+M*(r*d-u*l),t[14]=-(e*(i*b-c*m)-o*(r*b-u*m)+M*(r*c-u*i)),t[15]=e*(i*d-c*l)-o*(r*d-u*l)+s*(r*c-u*i),t}function un(t){let n=t[0],e=t[1],r=t[2],u=t[3],a=t[4],o=t[5],i=t[6],c=t[7],f=t[8],s=t[9],l=t[10],d=t[11],h=t[12],M=t[13],m=t[14],b=t[15];return(n*o-e*a)*(l*b-d*m)-(n*i-r*a)*(s*b-d*M)+(n*c-u*a)*(s*m-l*M)+(e*i-r*o)*(f*b-d*h)-(e*c-u*o)*(f*m-l*h)+(r*c-u*i)*(f*M-s*h)}function an(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=n[8],d=n[9],h=n[10],M=n[11],m=n[12],b=n[13],p=n[14],v=n[15],E=e[0],T=e[1],w=e[2],g=e[3];return t[0]=E*r+T*i+w*l+g*m,t[1]=E*u+T*c+w*d+g*b,t[2]=E*a+T*f+w*h+g*p,t[3]=E*o+T*s+w*M+g*v,E=e[4],T=e[5],w=e[6],g=e[7],t[4]=E*r+T*i+w*l+g*m,t[5]=E*u+T*c+w*d+g*b,t[6]=E*a+T*f+w*h+g*p,t[7]=E*o+T*s+w*M+g*v,E=e[8],T=e[9],w=e[10],g=e[11],t[8]=E*r+T*i+w*l+g*m,t[9]=E*u+T*c+w*d+g*b,t[10]=E*a+T*f+w*h+g*p,t[11]=E*o+T*s+w*M+g*v,E=e[12],T=e[13],w=e[14],g=e[15],t[12]=E*r+T*i+w*l+g*m,t[13]=E*u+T*c+w*d+g*b,t[14]=E*a+T*f+w*h+g*p,t[15]=E*o+T*s+w*M+g*v,t}function on(t,n,e){let r,u,a,o,i,c,f,s,l,d,h,M,m=e[0],b=e[1],p=e[2];return n===t?(t[12]=n[0]*m+n[4]*b+n[8]*p+n[12],t[13]=n[1]*m+n[5]*b+n[9]*p+n[13],t[14]=n[2]*m+n[6]*b+n[10]*p+n[14],t[15]=n[3]*m+n[7]*b+n[11]*p+n[15]):(r=n[0],u=n[1],a=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=n[8],d=n[9],h=n[10],M=n[11],t[0]=r,t[1]=u,t[2]=a,t[3]=o,t[4]=i,t[5]=c,t[6]=f,t[7]=s,t[8]=l,t[9]=d,t[10]=h,t[11]=M,t[12]=r*m+i*b+l*p+n[12],t[13]=u*m+c*b+d*p+n[13],t[14]=a*m+f*b+h*p+n[14],t[15]=o*m+s*b+M*p+n[15]),t}function cn(t,n,e){let r=e[0],u=e[1],a=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*u,t[5]=n[5]*u,t[6]=n[6]*u,t[7]=n[7]*u,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=n[11]*a,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function fn(t,n,e,r){let u,a,o,i,c,f,s,l,d,M,m,b,p,v,E,T,w,g,_,x,y,R,A,P,L=r[0],O=r[1],N=r[2],F=Math.sqrt(L*L+O*O+N*N);return F<h?null:(L*=F=1/F,O*=F,N*=F,u=Math.sin(e),o=1-(a=Math.cos(e)),i=n[0],c=n[1],f=n[2],s=n[3],l=n[4],d=n[5],M=n[6],m=n[7],b=n[8],p=n[9],v=n[10],E=n[11],T=L*L*o+a,w=O*L*o+N*u,g=N*L*o-O*u,_=L*O*o-N*u,x=O*O*o+a,y=N*O*o+L*u,R=L*N*o+O*u,A=O*N*o-L*u,P=N*N*o+a,t[0]=i*T+l*w+b*g,t[1]=c*T+d*w+p*g,t[2]=f*T+M*w+v*g,t[3]=s*T+m*w+E*g,t[4]=i*_+l*x+b*y,t[5]=c*_+d*x+p*y,t[6]=f*_+M*x+v*y,t[7]=s*_+m*x+E*y,t[8]=i*R+l*A+b*P,t[9]=c*R+d*A+p*P,t[10]=f*R+M*A+v*P,t[11]=s*R+m*A+E*P,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function sn(t,n,e){let r=Math.sin(e),u=Math.cos(e),a=n[4],o=n[5],i=n[6],c=n[7],f=n[8],s=n[9],l=n[10],d=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=a*u+f*r,t[5]=o*u+s*r,t[6]=i*u+l*r,t[7]=c*u+d*r,t[8]=f*u-a*r,t[9]=s*u-o*r,t[10]=l*u-i*r,t[11]=d*u-c*r,t}function ln(t,n,e){let r=Math.sin(e),u=Math.cos(e),a=n[0],o=n[1],i=n[2],c=n[3],f=n[8],s=n[9],l=n[10],d=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*u-f*r,t[1]=o*u-s*r,t[2]=i*u-l*r,t[3]=c*u-d*r,t[8]=a*r+f*u,t[9]=o*r+s*u,t[10]=i*r+l*u,t[11]=c*r+d*u,t}function dn(t,n,e){let r=Math.sin(e),u=Math.cos(e),a=n[0],o=n[1],i=n[2],c=n[3],f=n[4],s=n[5],l=n[6],d=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*u+f*r,t[1]=o*u+s*r,t[2]=i*u+l*r,t[3]=c*u+d*r,t[4]=f*u-a*r,t[5]=s*u-o*r,t[6]=l*u-i*r,t[7]=d*u-c*r,t}function hn(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Mn(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mn(t,n,e){let r,u,a,o=e[0],i=e[1],c=e[2],f=Math.sqrt(o*o+i*i+c*c);return f<h?null:(o*=f=1/f,i*=f,c*=f,r=Math.sin(n),a=1-(u=Math.cos(n)),t[0]=o*o*a+u,t[1]=i*o*a+c*r,t[2]=c*o*a-i*r,t[3]=0,t[4]=o*i*a-c*r,t[5]=i*i*a+u,t[6]=c*i*a+o*r,t[7]=0,t[8]=o*c*a+i*r,t[9]=i*c*a-o*r,t[10]=c*c*a+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function bn(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pn(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vn(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function En(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=r+r,c=u+u,f=a+a,s=r*i,l=r*c,d=r*f,h=u*c,M=u*f,m=a*f,b=o*i,p=o*c,v=o*f;return t[0]=1-(h+m),t[1]=l+v,t[2]=d-p,t[3]=0,t[4]=l-v,t[5]=1-(s+m),t[6]=M+b,t[7]=0,t[8]=d+p,t[9]=M-b,t[10]=1-(s+h),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Tn(t,n){let e=new M(3),r=-n[0],u=-n[1],a=-n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=r*r+u*u+a*a+o*o;return l>0?(e[0]=2*(i*o+s*r+c*a-f*u)/l,e[1]=2*(c*o+s*u+f*r-i*a)/l,e[2]=2*(f*o+s*a+i*u-c*r)/l):(e[0]=2*(i*o+s*r+c*a-f*u),e[1]=2*(c*o+s*u+f*r-i*a),e[2]=2*(f*o+s*a+i*u-c*r)),En(t,n,e),t}function wn(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function gn(t,n){let e=n[0],r=n[1],u=n[2],a=n[4],o=n[5],i=n[6],c=n[8],f=n[9],s=n[10];return t[0]=Math.sqrt(e*e+r*r+u*u),t[1]=Math.sqrt(a*a+o*o+i*i),t[2]=Math.sqrt(c*c+f*f+s*s),t}function _n(t,n){let e=n[0]+n[5]+n[10],r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(n[6]-n[9])/r,t[1]=(n[8]-n[2])/r,t[2]=(n[1]-n[4])/r):n[0]>n[5]&&n[0]>n[10]?(r=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/r,t[0]=.25*r,t[1]=(n[1]+n[4])/r,t[2]=(n[8]+n[2])/r):n[5]>n[10]?(r=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/r,t[0]=(n[1]+n[4])/r,t[1]=.25*r,t[2]=(n[6]+n[9])/r):(r=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/r,t[0]=(n[8]+n[2])/r,t[1]=(n[6]+n[9])/r,t[2]=.25*r),t}function xn(t,n,e,r){let u=n[0],a=n[1],o=n[2],i=n[3],c=u+u,f=a+a,s=o+o,l=u*c,d=u*f,h=u*s,M=a*f,m=a*s,b=o*s,p=i*c,v=i*f,E=i*s,T=r[0],w=r[1],g=r[2];return t[0]=(1-(M+b))*T,t[1]=(d+E)*T,t[2]=(h-v)*T,t[3]=0,t[4]=(d-E)*w,t[5]=(1-(l+b))*w,t[6]=(m+p)*w,t[7]=0,t[8]=(h+v)*g,t[9]=(m-p)*g,t[10]=(1-(l+M))*g,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function yn(t,n,e,r,u){let a=n[0],o=n[1],i=n[2],c=n[3],f=a+a,s=o+o,l=i+i,d=a*f,h=a*s,M=a*l,m=o*s,b=o*l,p=i*l,v=c*f,E=c*s,T=c*l,w=r[0],g=r[1],_=r[2],x=u[0],y=u[1],R=u[2],A=(1-(m+p))*w,P=(h+T)*w,L=(M-E)*w,O=(h-T)*g,N=(1-(d+p))*g,F=(b+v)*g,S=(M+E)*_,I=(b-v)*_,q=(1-(d+m))*_;return t[0]=A,t[1]=P,t[2]=L,t[3]=0,t[4]=O,t[5]=N,t[6]=F,t[7]=0,t[8]=S,t[9]=I,t[10]=q,t[11]=0,t[12]=e[0]+x-(A*x+O*y+S*R),t[13]=e[1]+y-(P*x+N*y+I*R),t[14]=e[2]+R-(L*x+F*y+q*R),t[15]=1,t}function Rn(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=e+e,i=r+r,c=u+u,f=e*o,s=r*o,l=r*i,d=u*o,h=u*i,M=u*c,m=a*o,b=a*i,p=a*c;return t[0]=1-l-M,t[1]=s+p,t[2]=d-b,t[3]=0,t[4]=s-p,t[5]=1-f-M,t[6]=h+m,t[7]=0,t[8]=d+b,t[9]=h-m,t[10]=1-f-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function An(t,n,e,r,u,a,o){let i=1/(e-n),c=1/(u-r),f=1/(a-o);return t[0]=2*a*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*c,t[6]=0,t[7]=0,t[8]=(e+n)*i,t[9]=(u+r)*c,t[10]=(o+a)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*f,t[15]=0,t}function Pn(t,n,e,r,u){let a=1/Math.tan(n/2),o=1/(r-u);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(u+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*u*r*o,t[15]=0,t}function Ln(t,n,e,r){let u=Math.tan(n.upDegrees*Math.PI/180),a=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),c=2/(o+i),f=2/(u+a);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-(o-i)*c*.5,t[9]=(u-a)*f*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function On(t,n,e,r,u,a,o){let i=1/(n-e),c=1/(r-u),f=1/(a-o);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(n+e)*i,t[13]=(u+r)*c,t[14]=(o+a)*f,t[15]=1,t}function Nn(t,n,e,r){let u,a,o,i,c,f,s,l,d,M,m=n[0],b=n[1],p=n[2],v=r[0],E=r[1],T=r[2],w=e[0],g=e[1],_=e[2];return Math.abs(m-w)<h&&Math.abs(b-g)<h&&Math.abs(p-_)<h?tn(t):(s=m-w,l=b-g,d=p-_,u=E*(d*=M=1/Math.sqrt(s*s+l*l+d*d))-T*(l*=M),a=T*(s*=M)-v*d,o=v*l-E*s,(M=Math.sqrt(u*u+a*a+o*o))?(u*=M=1/M,a*=M,o*=M):(u=0,a=0,o=0),i=l*o-d*a,c=d*u-s*o,f=s*a-l*u,(M=Math.sqrt(i*i+c*c+f*f))?(i*=M=1/M,c*=M,f*=M):(i=0,c=0,f=0),t[0]=u,t[1]=i,t[2]=s,t[3]=0,t[4]=a,t[5]=c,t[6]=l,t[7]=0,t[8]=o,t[9]=f,t[10]=d,t[11]=0,t[12]=-(u*m+a*b+o*p),t[13]=-(i*m+c*b+f*p),t[14]=-(s*m+l*b+d*p),t[15]=1,t)}function Fn(t,n,e,r){let u=n[0],a=n[1],o=n[2],i=r[0],c=r[1],f=r[2],s=u-e[0],l=a-e[1],d=o-e[2],h=s*s+l*l+d*d;h>0&&(s*=h=1/Math.sqrt(h),l*=h,d*=h);let M=c*d-f*l,m=f*s-i*d,b=i*l-c*s;return(h=M*M+m*m+b*b)>0&&(M*=h=1/Math.sqrt(h),m*=h,b*=h),t[0]=M,t[1]=m,t[2]=b,t[3]=0,t[4]=l*b-d*m,t[5]=d*M-s*b,t[6]=s*m-l*M,t[7]=0,t[8]=s,t[9]=l,t[10]=d,t[11]=0,t[12]=u,t[13]=a,t[14]=o,t[15]=1,t}function Sn(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function In(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function qn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function Dn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function Cn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function Un(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function Xn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function jn(t,n){let e=t[0],r=t[1],u=t[2],a=t[3],o=t[4],i=t[5],c=t[6],f=t[7],s=t[8],l=t[9],d=t[10],M=t[11],m=t[12],b=t[13],p=t[14],v=t[15],E=n[0],T=n[1],w=n[2],g=n[3],_=n[4],x=n[5],y=n[6],R=n[7],A=n[8],P=n[9],L=n[10],O=n[11],N=n[12],F=n[13],S=n[14],I=n[15];return Math.abs(e-E)<=h*Math.max(1,Math.abs(e),Math.abs(E))&&Math.abs(r-T)<=h*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(u-w)<=h*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(a-g)<=h*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-_)<=h*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-x)<=h*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(c-y)<=h*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-R)<=h*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(s-A)<=h*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(l-P)<=h*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(d-L)<=h*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(M-O)<=h*Math.max(1,Math.abs(M),Math.abs(O))&&Math.abs(m-N)<=h*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(b-F)<=h*Math.max(1,Math.abs(b),Math.abs(F))&&Math.abs(p-S)<=h*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(v-I)<=h*Math.max(1,Math.abs(v),Math.abs(I))}const Gn=an,Bn=Dn;function Vn(){let t=new M(3);return t[0]=0,t[1]=0,t[2]=0,t}function Wn(t){var n=new M(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function kn(t){let n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function Yn(t,n,e){let r=new M(3);return r[0]=t,r[1]=n,r[2]=e,r}function Hn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function zn(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function Kn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function Jn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function Qn(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function Zn(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function $n(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function te(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function ne(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function ee(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function re(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function ue(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function ae(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function oe(t,n){let e=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return Math.sqrt(e*e+r*r+u*u)}function ie(t,n){let e=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return e*e+r*r+u*u}function ce(t){let n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function fe(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function se(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function le(t,n){let e=n[0],r=n[1],u=n[2],a=e*e+r*r+u*u;return a>0&&(a=1/Math.sqrt(a),t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a),t}function de(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function he(t,n,e){let r=n[0],u=n[1],a=n[2],o=e[0],i=e[1],c=e[2];return t[0]=u*c-a*i,t[1]=a*o-r*c,t[2]=r*i-u*o,t}function Me(t,n,e,r){let u=n[0],a=n[1],o=n[2];return t[0]=u+r*(e[0]-u),t[1]=a+r*(e[1]-a),t[2]=o+r*(e[2]-o),t}function me(t,n,e,r,u,a){let o=a*a,i=o*(2*a-3)+1,c=o*(a-2)+a,f=o*(a-1),s=o*(3-2*a);return t[0]=n[0]*i+e[0]*c+r[0]*f+u[0]*s,t[1]=n[1]*i+e[1]*c+r[1]*f+u[1]*s,t[2]=n[2]*i+e[2]*c+r[2]*f+u[2]*s,t}function be(t,n,e,r,u,a){let o=1-a,i=o*o,c=a*a,f=i*o,s=3*a*i,l=3*c*o,d=c*a;return t[0]=n[0]*f+e[0]*s+r[0]*l+u[0]*d,t[1]=n[1]*f+e[1]*s+r[1]*l+u[1]*d,t[2]=n[2]*f+e[2]*s+r[2]*l+u[2]*d,t}function pe(t,n){n=n||1;let e=2*m()*Math.PI,r=2*m()-1,u=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*u,t[1]=Math.sin(e)*u,t[2]=r*n,t}function ve(t,n,e){let r=n[0],u=n[1],a=n[2],o=e[3]*r+e[7]*u+e[11]*a+e[15];return o=o||1,t[0]=(e[0]*r+e[4]*u+e[8]*a+e[12])/o,t[1]=(e[1]*r+e[5]*u+e[9]*a+e[13])/o,t[2]=(e[2]*r+e[6]*u+e[10]*a+e[14])/o,t}function Ee(t,n,e){let r=n[0],u=n[1],a=n[2];return t[0]=r*e[0]+u*e[3]+a*e[6],t[1]=r*e[1]+u*e[4]+a*e[7],t[2]=r*e[2]+u*e[5]+a*e[8],t}function Te(t,n,e){let r=e[0],u=e[1],a=e[2],o=e[3],i=n[0],c=n[1],f=n[2],s=u*f-a*c,l=a*i-r*f,d=r*c-u*i,h=u*d-a*l,M=a*s-r*d,m=r*l-u*s,b=2*o;return s*=b,l*=b,d*=b,h*=2,M*=2,m*=2,t[0]=i+s+h,t[1]=c+l+M,t[2]=f+d+m,t}function we(t,n,e,r){let u=[],a=[];return u[0]=n[0]-e[0],u[1]=n[1]-e[1],u[2]=n[2]-e[2],a[0]=u[0],a[1]=u[1]*Math.cos(r)-u[2]*Math.sin(r),a[2]=u[1]*Math.sin(r)+u[2]*Math.cos(r),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function ge(t,n,e,r){let u=[],a=[];return u[0]=n[0]-e[0],u[1]=n[1]-e[1],u[2]=n[2]-e[2],a[0]=u[2]*Math.sin(r)+u[0]*Math.cos(r),a[1]=u[1],a[2]=u[2]*Math.cos(r)-u[0]*Math.sin(r),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function _e(t,n,e,r){let u=[],a=[];return u[0]=n[0]-e[0],u[1]=n[1]-e[1],u[2]=n[2]-e[2],a[0]=u[0]*Math.cos(r)-u[1]*Math.sin(r),a[1]=u[0]*Math.sin(r)+u[1]*Math.cos(r),a[2]=u[2],t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function xe(t,n){let e=Yn(t[0],t[1],t[2]),r=Yn(n[0],n[1],n[2]);le(e,e),le(r,r);let u=de(e,r);return u>1?0:u<-1?Math.PI:Math.acos(u)}function ye(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Re(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Ae(t,n){let e=t[0],r=t[1],u=t[2],a=n[0],o=n[1],i=n[2];return Math.abs(e-a)<=h*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-o)<=h*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-i)<=h*Math.max(1,Math.abs(u),Math.abs(i))}const Pe=Jn,Le=Qn,Oe=Zn,Ne=oe,Fe=ie,Se=kn,Ie=ce,qe=function(){let t=Vn();return function(n,e,r,u,a,o){let i,c;for(e||(e=3),r||(r=0),c=u?Math.min(u*e+r,n.length):n.length,i=r;i<c;i+=e)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],a(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2];return n}}();function De(){let t=new M(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Ce(t){let n=new M(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function Ue(t,n,e,r){let u=new M(4);return u[0]=t,u[1]=n,u[2]=e,u[3]=r,u}function Xe(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function je(t,n,e,r,u){return t[0]=n,t[1]=e,t[2]=r,t[3]=u,t}function Ge(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function Be(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function Ve(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function We(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function ke(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function Ye(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function He(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function ze(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function Ke(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function Je(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function Qe(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function Ze(t,n){let e=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],a=n[3]-t[3];return Math.sqrt(e*e+r*r+u*u+a*a)}function $e(t,n){let e=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],a=n[3]-t[3];return e*e+r*r+u*u+a*a}function tr(t){let n=t[0],e=t[1],r=t[2],u=t[3];return Math.sqrt(n*n+e*e+r*r+u*u)}function nr(t){let n=t[0],e=t[1],r=t[2],u=t[3];return n*n+e*e+r*r+u*u}function er(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function rr(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function ur(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=e*e+r*r+u*u+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e*o,t[1]=r*o,t[2]=u*o,t[3]=a*o),t}function ar(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function or(t,n,e,r){let u=n[0],a=n[1],o=n[2],i=n[3];return t[0]=u+r*(e[0]-u),t[1]=a+r*(e[1]-a),t[2]=o+r*(e[2]-o),t[3]=i+r*(e[3]-i),t}function ir(t,n){var e,r,u,a,o,i;n=n||1;do{o=(e=2*m()-1)*e+(r=2*m()-1)*r}while(o>=1);do{i=(u=2*m()-1)*u+(a=2*m()-1)*a}while(i>=1);var c=Math.sqrt((1-o)/i);return t[0]=Je*e,t[1]=Je*r,t[2]=Je*u*c,t[3]=Je*a*c,t}function cr(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3];return t[0]=e[0]*r+e[4]*u+e[8]*a+e[12]*o,t[1]=e[1]*r+e[5]*u+e[9]*a+e[13]*o,t[2]=e[2]*r+e[6]*u+e[10]*a+e[14]*o,t[3]=e[3]*r+e[7]*u+e[11]*a+e[15]*o,t}function fr(t,n,e){let r=n[0],u=n[1],a=n[2],o=e[0],i=e[1],c=e[2],f=e[3],s=f*r+i*a-c*u,l=f*u+c*r-o*a,d=f*a+o*u-i*r,h=-o*r-i*u-c*a;return t[0]=s*f+h*-o+l*-c-d*-i,t[1]=l*f+h*-i+d*-o-s*-c,t[2]=d*f+h*-c+s*-i-l*-o,t[3]=n[3],t}function sr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function lr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function dr(t,n){let e=t[0],r=t[1],u=t[2],a=t[3],o=n[0],i=n[1],c=n[2],f=n[3];return Math.abs(e-o)<=h*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-c)<=h*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(a-f)<=h*Math.max(1,Math.abs(a),Math.abs(f))}const hr=Be,Mr=Ve,mr=We,br=Ze,pr=$e,vr=tr,Er=nr,Tr=function(){let t=De();return function(n,e,r,u,a,o){let i,c;for(e||(e=4),r||(r=0),c=u?Math.min(u*e+r,n.length):n.length,i=r;i<c;i+=e)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],t[3]=n[i+3],a(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2],n[i+3]=t[3];return n}}();function wr(){let t=new M(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function gr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function _r(t,n,e){e*=.5;let r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function xr(t,n){let e=2*Math.acos(n[3]),r=Math.sin(e/2);return 0!=r?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function yr(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=e[0],c=e[1],f=e[2],s=e[3];return t[0]=r*s+o*i+u*f-a*c,t[1]=u*s+o*c+a*i-r*f,t[2]=a*s+o*f+r*c-u*i,t[3]=o*s-r*i-u*c-a*f,t}function Rr(t,n,e){e*=.5;let r=n[0],u=n[1],a=n[2],o=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c+o*i,t[1]=u*c+a*i,t[2]=a*c-u*i,t[3]=o*c-r*i,t}function Ar(t,n,e){e*=.5;let r=n[0],u=n[1],a=n[2],o=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c-a*i,t[1]=u*c+o*i,t[2]=a*c+r*i,t[3]=o*c-u*i,t}function Pr(t,n,e){e*=.5;let r=n[0],u=n[1],a=n[2],o=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c+u*i,t[1]=u*c-r*i,t[2]=a*c+o*i,t[3]=o*c-a*i,t}function Lr(t,n){let e=n[0],r=n[1],u=n[2];return t[0]=e,t[1]=r,t[2]=u,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-u*u)),t}function Or(t,n,e,r){let u,a,o,i,c,f=n[0],s=n[1],l=n[2],d=n[3],h=e[0],M=e[1],m=e[2],b=e[3];return(a=f*h+s*M+l*m+d*b)<0&&(a=-a,h=-h,M=-M,m=-m,b=-b),1-a>1e-6?(u=Math.acos(a),o=Math.sin(u),i=Math.sin((1-r)*u)/o,c=Math.sin(r*u)/o):(i=1-r,c=r),t[0]=i*f+c*h,t[1]=i*s+c*M,t[2]=i*l+c*m,t[3]=i*d+c*b,t}function Nr(t,n){let e=n[0],r=n[1],u=n[2],a=n[3],o=e*e+r*r+u*u+a*a,i=o?1/o:0;return t[0]=-e*i,t[1]=-r*i,t[2]=-u*i,t[3]=a*i,t}function Fr(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function Sr(t,n){let e,r=n[0]+n[4]+n[8];if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);let u=(r+1)%3,a=(r+2)%3;e=Math.sqrt(n[3*r+r]-n[3*u+u]-n[3*a+a]+1),t[r]=.5*e,e=.5/e,t[3]=(n[3*u+a]-n[3*a+u])*e,t[u]=(n[3*u+r]+n[3*r+u])*e,t[a]=(n[3*a+r]+n[3*r+a])*e}return t}function Ir(t,n,e,r){let u=.5*Math.PI/180;n*=u,e*=u,r*=u;let a=Math.sin(n),o=Math.cos(n),i=Math.sin(e),c=Math.cos(e),f=Math.sin(r),s=Math.cos(r);return t[0]=a*c*s-o*i*f,t[1]=o*i*s+a*c*f,t[2]=o*c*f-a*i*s,t[3]=o*c*s+a*i*f,t}function qr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const Dr=Ce,Cr=Ue,Ur=Xe,Xr=je,jr=Ge,Gr=yr,Br=Je,Vr=ar,Wr=or,kr=tr,Yr=kr,Hr=nr,zr=Hr,Kr=ur,Jr=lr,Qr=dr,Zr=function(){let t=Vn(),n=Yn(1,0,0),e=Yn(0,1,0);return function(r,u,a){let o=de(u,a);return o<-.999999?(he(t,n,u),Se(t)<1e-6&&he(t,e,u),le(t,t),_r(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(he(t,u,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,Kr(r,r))}}(),$r=function(){let t=wr(),n=wr();return function(e,r,u,a,o,i){return Or(t,r,o,i),Or(n,u,a,i),Or(e,t,n,2*i*(1-i)),e}}(),tu=function(){let t=pt();return function(n,e,r,u){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=u[0],t[4]=u[1],t[7]=u[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],Kr(n,Sr(n,t))}}();function nu(){let t=new M(8);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function eu(t){let n=new M(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n}function ru(t,n,e,r,u,a,o,i){let c=new M(8);return c[0]=t,c[1]=n,c[2]=e,c[3]=r,c[4]=u,c[5]=a,c[6]=o,c[7]=i,c}function uu(t,n,e,r,u,a,o){let i=new M(8);i[0]=t,i[1]=n,i[2]=e,i[3]=r;let c=.5*u,f=.5*a,s=.5*o;return i[4]=c*r+f*e-s*n,i[5]=f*r+s*t-c*e,i[6]=s*r+c*n-f*t,i[7]=-c*t-f*n-s*e,i}function au(t,n,e){let r=.5*e[0],u=.5*e[1],a=.5*e[2],o=n[0],i=n[1],c=n[2],f=n[3];return t[0]=o,t[1]=i,t[2]=c,t[3]=f,t[4]=r*f+u*c-a*i,t[5]=u*f+a*o-r*c,t[6]=a*f+r*i-u*o,t[7]=-r*o-u*i-a*c,t}function ou(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t}function iu(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function cu(t,n){let e=wr();_n(e,n);let r=new M(3);return wn(r,n),au(t,e,r),t}function fu(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}function su(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function lu(t,n,e,r,u,a,o,i,c){return t[0]=n,t[1]=e,t[2]=r,t[3]=u,t[4]=a,t[5]=o,t[6]=i,t[7]=c,t}const du=Ur;function hu(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t}const Mu=Ur;function mu(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t}function bu(t,n){let e=n[4],r=n[5],u=n[6],a=n[7],o=-n[0],i=-n[1],c=-n[2],f=n[3];return t[0]=2*(e*f+a*o+r*c-u*i),t[1]=2*(r*f+a*i+u*o-e*c),t[2]=2*(u*f+a*c+e*i-r*o),t}function pu(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=.5*e[0],c=.5*e[1],f=.5*e[2],s=n[4],l=n[5],d=n[6],h=n[7];return t[0]=r,t[1]=u,t[2]=a,t[3]=o,t[4]=o*i+u*f-a*c+s,t[5]=o*c+a*i-r*f+l,t[6]=o*f+r*c-u*i+d,t[7]=-r*i-u*c-a*f+h,t}function vu(t,n,e){let r=-n[0],u=-n[1],a=-n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=i*o+s*r+c*a-f*u,d=c*o+s*u+f*r-i*a,h=f*o+s*a+i*u-c*r,M=s*o-i*r-c*u-f*a;return Rr(t,n,e),r=t[0],u=t[1],a=t[2],o=t[3],t[4]=l*o+M*r+d*a-h*u,t[5]=d*o+M*u+h*r-l*a,t[6]=h*o+M*a+l*u-d*r,t[7]=M*o-l*r-d*u-h*a,t}function Eu(t,n,e){let r=-n[0],u=-n[1],a=-n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=i*o+s*r+c*a-f*u,d=c*o+s*u+f*r-i*a,h=f*o+s*a+i*u-c*r,M=s*o-i*r-c*u-f*a;return Ar(t,n,e),r=t[0],u=t[1],a=t[2],o=t[3],t[4]=l*o+M*r+d*a-h*u,t[5]=d*o+M*u+h*r-l*a,t[6]=h*o+M*a+l*u-d*r,t[7]=M*o-l*r-d*u-h*a,t}function Tu(t,n,e){let r=-n[0],u=-n[1],a=-n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],l=i*o+s*r+c*a-f*u,d=c*o+s*u+f*r-i*a,h=f*o+s*a+i*u-c*r,M=s*o-i*r-c*u-f*a;return Pr(t,n,e),r=t[0],u=t[1],a=t[2],o=t[3],t[4]=l*o+M*r+d*a-h*u,t[5]=d*o+M*u+h*r-l*a,t[6]=h*o+M*a+l*u-d*r,t[7]=M*o-l*r-d*u-h*a,t}function wu(t,n,e){let r=e[0],u=e[1],a=e[2],o=e[3],i=n[0],c=n[1],f=n[2],s=n[3];return t[0]=i*o+s*r+c*a-f*u,t[1]=c*o+s*u+f*r-i*a,t[2]=f*o+s*a+i*u-c*r,t[3]=s*o-i*r-c*u-f*a,i=n[4],c=n[5],f=n[6],s=n[7],t[4]=i*o+s*r+c*a-f*u,t[5]=c*o+s*u+f*r-i*a,t[6]=f*o+s*a+i*u-c*r,t[7]=s*o-i*r-c*u-f*a,t}function gu(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=e[0],c=e[1],f=e[2],s=e[3];return t[0]=r*s+o*i+u*f-a*c,t[1]=u*s+o*c+a*i-r*f,t[2]=a*s+o*f+r*c-u*i,t[3]=o*s-r*i-u*c-a*f,i=e[4],c=e[5],f=e[6],s=e[7],t[4]=r*s+o*i+u*f-a*c,t[5]=u*s+o*c+a*i-r*f,t[6]=a*s+o*f+r*c-u*i,t[7]=o*s-r*i-u*c-a*f,t}function _u(t,n,e,r){if(Math.abs(r)<h)return fu(t,n);let u=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);r*=.5;let a=Math.sin(r),o=a*e[0]/u,i=a*e[1]/u,c=a*e[2]/u,f=Math.cos(r),s=n[0],l=n[1],d=n[2],M=n[3];t[0]=s*f+M*o+l*c-d*i,t[1]=l*f+M*i+d*o-s*c,t[2]=d*f+M*c+s*i-l*o,t[3]=M*f-s*o-l*i-d*c;let m=n[4],b=n[5],p=n[6],v=n[7];return t[4]=m*f+v*o+b*c-p*i,t[5]=b*f+v*i+p*o-m*c,t[6]=p*f+v*c+m*i-b*o,t[7]=v*f-m*o-b*i-p*c,t}function xu(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t}function yu(t,n,e){let r=n[0],u=n[1],a=n[2],o=n[3],i=e[4],c=e[5],f=e[6],s=e[7],l=n[4],d=n[5],h=n[6],M=n[7],m=e[0],b=e[1],p=e[2],v=e[3];return t[0]=r*v+o*m+u*p-a*b,t[1]=u*v+o*b+a*m-r*p,t[2]=a*v+o*p+r*b-u*m,t[3]=o*v-r*m-u*b-a*p,t[4]=r*s+o*i+u*f-a*c+l*v+M*m+d*p-h*b,t[5]=u*s+o*c+a*i-r*f+d*v+M*b+h*m-l*p,t[6]=a*s+o*f+r*c-u*i+h*v+M*p+l*b-d*m,t[7]=o*s-r*i-u*c-a*f+M*v-l*m-d*b-h*p,t}const Ru=yu;function Au(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t}const Pu=Vr;function Lu(t,n,e,r){let u=1-r;return Pu(n,e)<0&&(r=-r),t[0]=n[0]*u+e[0]*r,t[1]=n[1]*u+e[1]*r,t[2]=n[2]*u+e[2]*r,t[3]=n[3]*u+e[3]*r,t[4]=n[4]*u+e[4]*r,t[5]=n[5]*u+e[5]*r,t[6]=n[6]*u+e[6]*r,t[7]=n[7]*u+e[7]*r,t}function Ou(t,n){let e=Iu(n);return t[0]=-n[0]/e,t[1]=-n[1]/e,t[2]=-n[2]/e,t[3]=n[3]/e,t[4]=-n[4]/e,t[5]=-n[5]/e,t[6]=-n[6]/e,t[7]=n[7]/e,t}function Nu(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t}const Fu=kr,Su=Fu,Iu=Hr,qu=Iu;function Du(t,n){let e=Iu(n);return e>0&&(e=Math.sqrt(e),t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e,t[3]=n[3]/e,t[4]=n[4]/e,t[5]=n[5]/e,t[6]=n[6]/e,t[7]=n[7]/e),t}function Cu(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Uu(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]}function Xu(t,n){let e=t[0],r=t[1],u=t[2],a=t[3],o=t[4],i=t[5],c=t[6],f=t[7],s=n[0],l=n[1],d=n[2],M=n[3],m=n[4],b=n[5],p=n[6],v=n[7];return Math.abs(e-s)<=h*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(u-d)<=h*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(a-M)<=h*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-m)<=h*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(i-b)<=h*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(c-p)<=h*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(f-v)<=h*Math.max(1,Math.abs(f),Math.abs(v))}function ju(){let t=new M(2);return t[0]=0,t[1]=0,t}function Gu(t){let n=new M(2);return n[0]=t[0],n[1]=t[1],n}function Bu(t,n){let e=new M(2);return e[0]=t,e[1]=n,e}function Vu(t,n){return t[0]=n[0],t[1]=n[1],t}function Wu(t,n,e){return t[0]=n,t[1]=e,t}function ku(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function Yu(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function Hu(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function zu(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function Ku(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function Ju(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function Qu(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function Zu(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function $u(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function ta(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function na(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function ea(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function ra(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function ua(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function aa(t){var n=t[0],e=t[1];return n*n+e*e}function oa(t,n){return t[0]=-n[0],t[1]=-n[1],t}function ia(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function ca(t,n){var e=n[0],r=n[1],u=e*e+r*r;return u>0&&(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u),t}function fa(t,n){return t[0]*n[0]+t[1]*n[1]}function sa(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function la(t,n,e,r){var u=n[0],a=n[1];return t[0]=u+r*(e[0]-u),t[1]=a+r*(e[1]-a),t}function da(t,n){n=n||1;var e=2*m()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function ha(t,n,e){var r=n[0],u=n[1];return t[0]=e[0]*r+e[2]*u,t[1]=e[1]*r+e[3]*u,t}function Ma(t,n,e){var r=n[0],u=n[1];return t[0]=e[0]*r+e[2]*u+e[4],t[1]=e[1]*r+e[3]*u+e[5],t}function ma(t,n,e){var r=n[0],u=n[1];return t[0]=e[0]*r+e[3]*u+e[6],t[1]=e[1]*r+e[4]*u+e[7],t}function ba(t,n,e){let r=n[0],u=n[1];return t[0]=e[0]*r+e[4]*u+e[12],t[1]=e[1]*r+e[5]*u+e[13],t}function pa(t,n,e,r){let u=n[0]-e[0],a=n[1]-e[1],o=Math.sin(r),i=Math.cos(r);return t[0]=u*i-a*o+e[0],t[1]=u*o+a*i+e[1],t}function va(t,n){let e=t[0],r=t[1],u=n[0],a=n[1],o=e*e+r*r;o>0&&(o=1/Math.sqrt(o));let i=u*u+a*a;i>0&&(i=1/Math.sqrt(i));let c=(e*u+r*a)*o*i;return c>1?0:c<-1?Math.PI:Math.acos(c)}function Ea(t){return"vec2("+t[0]+", "+t[1]+")"}function Ta(t,n){return t[0]===n[0]&&t[1]===n[1]}function wa(t,n){let e=t[0],r=t[1],u=n[0],a=n[1];return Math.abs(e-u)<=h*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))}const ga=ua,_a=Yu,xa=Hu,ya=zu,Ra=ea,Aa=ra,Pa=aa,La=function(){let t=ju();return function(n,e,r,u,a,o){let i,c;for(e||(e=2),r||(r=0),c=u?Math.min(u*e+r,n.length):n.length,i=r;i<c;i+=e)t[0]=n[i],t[1]=n[i+1],a(t,t,o),n[i]=t[0],n[i+1]=t[1];return n}}();e.d(n,"glMatrix",function(){return r}),e.d(n,"mat2",function(){return u}),e.d(n,"mat2d",function(){return a}),e.d(n,"mat3",function(){return o}),e.d(n,"mat4",function(){return i}),e.d(n,"quat",function(){return s}),e.d(n,"quat2",function(){return l}),e.d(n,"vec2",function(){return d}),e.d(n,"vec3",function(){return c}),e.d(n,"vec4",function(){return f})},function(t,n,e){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t};Object.defineProperty(n,"__esModule",{value:!0});var u={minFilter:WebGLRenderingContext.LINEAR,magFilter:WebGLRenderingContext.LINEAR,wrapS:WebGLRenderingContext.CLAMP_TO_EDGE,wrapT:WebGLRenderingContext.CLAMP_TO_EDGE,flipY:!1,level:0,internalFormat:WebGLRenderingContext.RGBA,border:0,srcFormat:WebGLRenderingContext.RGBA,srcType:WebGLRenderingContext.UNSIGNED_BYTE,width:0,height:0};n.createTexture=function(t,n){n=r({},u,n);var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n.wrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,n.wrapT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n.minFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n.magFilter),t.texImage2D(t.TEXTURE_2D,n.level,n.internalFormat,n.width,n.height,n.border,n.srcFormat,n.srcType,null),e}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.xmlToJSON=function t(n){if(n.hasChildNodes()){if(1===n.childNodes.length&&n.childNodes.item(0).nodeType===Node.TEXT_NODE){for(var e={},r=0;r<n.childNodes.length;r++)e[(l=n.childNodes.item(r)).nodeName]=l.nodeValue;return e}for(var u=[],a=0;a<n.childNodes.length;a++)(l=n.childNodes.item(a)).nodeType===Node.ELEMENT_NODE&&u.push(l);for(var o=!0,i=u[0].nodeName,c=1;c<u.length;c++)if((l=u[c]).nodeName!==i){o=!1;break}if(n.childNodes.length>1&&o){for(var f=[],s=0;s<u.length;s++){var l=u[s];f.push(t(l))}return f}var d={};for(s=0;s<u.length;s++){var h=(l=u[s]).nodeName;h in d?(Array.isArray(d[h].push)||(d[h]=[d[h]]),d[h].push(t(l))):d[h]=t(l)}return d}if(n.nodeType===Node.ELEMENT_NODE){d={};for(var M=0;M<n.attributes.length;M++){var m=n.attributes.item(M);d[m.nodeName]=m.nodeValue}return d}return n.nodeValue}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isPowerOf2=function(t){return 0==(t&t-1)}},function(t,n,e){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t};Object.defineProperty(n,"__esModule",{value:!0});var u=e(4),a={minFilter:WebGLRenderingContext.LINEAR_MIPMAP_LINEAR,magFilter:WebGLRenderingContext.LINEAR,wrapS:WebGLRenderingContext.CLAMP_TO_EDGE,wrapT:WebGLRenderingContext.CLAMP_TO_EDGE,flipY:!1,anisotropy:16,width:0,height:0};n.generateMipmap=function(t,n,e){if(e=r({},a,e),t.bindTexture(t.TEXTURE_2D,n),u.isPowerOf2(e.width)&&u.isPowerOf2(e.height)){if(t.generateMipmap(t.TEXTURE_2D),e.anisotropy){var o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");if(o){var i=Math.min(e.anisotropy,t.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));t.texParameterf(t.TEXTURE_2D,o.TEXTURE_MAX_ANISOTROPY_EXT,i)}}}else switch(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e.minFilter){case t.NEAREST_MIPMAP_NEAREST:case t.LINEAR_MIPMAP_NEAREST:t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);break;case t.NEAREST_MIPMAP_LINEAR:case t.LINEAR_MIPMAP_LINEAR:t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)}return n}},function(t,n,e){"use strict";function r(t,n,e){var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)&&!t.isContextLost()){var u=1,a=e.split("\n").reduce(function(t,n){return t+"\n"+u+++". "+n},"");throw new Error(t.getShaderInfoLog(r)+a)}return r}function u(t,n,e){var r=t.getAttribLocation(n,e.name);return{set:function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,n.itemSize,n.type,!1,0,0)}}}function a(t,n,e,r){var u=function(t,n,e){switch(n){case t.FLOAT:return e>1?t.uniform1fv:t.uniform1f;case t.FLOAT_VEC2:return t.uniform2fv;case t.FLOAT_VEC3:return t.uniform3fv;case t.FLOAT_VEC4:return t.uniform4fv;case t.FLOAT_MAT2:return function(n,e,r){return t.uniformMatrix2fv(n,r,e)};case t.FLOAT_MAT3:return function(n,e,r){return t.uniformMatrix3fv(n,r,e)};case t.FLOAT_MAT4:return function(n,e,r){return t.uniformMatrix4fv(n,r,e)};default:case t.INT:return e>1?t.uniform1iv:t.uniform1i;case t.INT_VEC2:return t.uniform2iv;case t.INT_VEC3:return t.uniform3iv;case t.INT_VEC4:return t.uniform4fv}}(t,e.type,e.size),a=t.getUniformLocation(n,e.name);return{set:e.type===t.SAMPLER_2D?function(n){t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,n),t.uniform1i(a,r)}:function(t){return u(a,t)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.createProgram=function(t,n,e){var o=r(t,t.VERTEX_SHADER,n),i=r(t,t.FRAGMENT_SHADER,e),c=t.createProgram();if(t.attachShader(c,o),t.attachShader(c,i),t.linkProgram(c),!t.getProgramParameter(c,t.LINK_STATUS)&&!t.isContextLost())throw new Error("Could not initialise shaders: "+t.getProgramInfoLog(c));t.useProgram(c);for(var f=t.getProgramParameter(c,t.ACTIVE_UNIFORMS),s=t.getProgramParameter(c,t.ACTIVE_ATTRIBUTES),l={},d={},h=0,M=0;M<f;M++){var m=t.getActiveUniform(c,M);d[m.name]=a(t,c,m,h),m.type===t.SAMPLER_2D&&h++}for(M=0;M<s;M++){var b=t.getActiveAttrib(c,M);l[b.name]=u(t,c,b)}return{program:c,uniforms:d,attributes:l,setUniforms:function(t){for(var n in t)n in d&&d[n].set(t[n])},setAttributes:function(t){for(var n in t)n in l&&l[n].set(t[n])}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dirname=function(t){return t.match(/.*\//)[0].toString()}},function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(u,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function i(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?u(t.value):new e(function(n){n(t.value)}).then(o,i)}c((r=r.apply(t,n||[])).next())})},u=this&&this.__generator||function(t,n){var e,r,u,a,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;switch(r=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){o.label=a[1];break}if(6===a[0]&&o.label<u[1]){o.label=u[1],u=a;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(a);break}u[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(t,o)}catch(t){a=[6,t],r=0}finally{e=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e(1),o=e(0),i={newmtl:/\bnewmtl\s+(.*)\b/,ambient:/\bKa\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\b/,diffuse:/\bKd\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\b/,specular:/\bKs\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\b/,intensity:/\bNs\s+([^\s]+)\b/,transparent:/\bd\s+([^\s]+)\b/,illumination:/\billum\s+([^\s]+)\b/,ambientMap:/\bmap_Ka\s+([^\s]+)\b/,diffuseMap:/\bmap_Kd\s+([^\s]+)\b/,specularMap:/\bmap_Ks\s+([^\s]+)\b/,intensityMap:/\bmap_Ns\s+([^\s]+)\b/,alphaMap:/\bmap_d\s+([^\s]+)\b/,bumpMap:/\bmap_bump\s+([^\s]+)\b/};n.loadMtl=function(t){return r(this,void 0,void 0,function(){var n,e,r,c;return u(this,function(u){switch(u.label){case 0:return[4,o.loadFile(t)];case 1:return n=u.sent(),e=n.split("\n"),r={},c={},e.forEach(function(t){var n=t.match(i.newmtl);if(n)return c={name:n[1]},void(r[c.name]=c);["ambient","diffuse","specular"].forEach(function(n){!function(t,n,e,r){var u=t.match(n);u&&(e[r]=a.vec3.fromValues(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])))}(t,i[n],c,n)}),["intensity","transparent","illumination","ambientMap","diffuseMap","specularMap","intensityMap","alphaMap","bumpMap"].forEach(function(n){!function(t,n,e,r){var u=t.match(n);u&&(e[r]=u[1])}(t,i[n],c,n)})}),[2,r]}})})}},function(t,n,e){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t};Object.defineProperty(n,"__esModule",{value:!0});var u=e(2),a={width:0,height:0,depth:!0,stencil:!1,minFilter:WebGLRenderingContext.NEAREST,magFilter:WebGLRenderingContext.NEAREST,wrapS:WebGLRenderingContext.CLAMP_TO_EDGE,wrapT:WebGLRenderingContext.CLAMP_TO_EDGE};n.createFramebuffer=function(t,n){n=r({},a,n);var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var o,i=u.createTexture(t,n);if(t.bindTexture(t.TEXTURE_2D,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),n.stencil||n.depth){var c=n.stencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.getExtension("WEBGL_depth_texture")&&(o=u.createTexture(t,{width:n.width,height:n.height,internalFormat:n.stencil?t.DEPTH_STENCIL:t.DEPTH_COMPONENT,srcFormat:n.stencil?t.DEPTH_STENCIL:t.DEPTH_COMPONENT,srcType:t.UNSIGNED_INT,minFilter:t.NEAREST,magFilter:t.NEAREST,wrapS:t.CLAMP_TO_EDGE,wrapT:t.CLAMP_TO_EDGE}),t.bindTexture(t.TEXTURE_2D,o),t.framebufferTexture2D(t.FRAMEBUFFER,c,t.TEXTURE_2D,i,0));var f=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,f),t.renderbufferStorage(t.RENDERBUFFER,n.stencil?t.DEPTH_STENCIL:t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,c,t.RENDERBUFFER,f)}return{width:n.width,height:n.height,framebuffer:e,texture:i,depthStencilTexture:o}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createElementBuffer=function(t,n,e,r){var u=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,r||t.STATIC_DRAW);var a=n.length/e;return{buffer:u,itemSize:e,numItems:a,draw:function(n,e){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.drawElements(n||t.TRIANGLES,a,e||t.UNSIGNED_SHORT,0)}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createContext=function(t,n,e){var r,u=window.devicePixelRatio||1,a=function(){t.width=u*t.clientWidth,t.height=u*t.clientHeight};try{r=t.getContext("webgl",n)||t.getContext("experimental-webgl",n),e&&e.forEach(function(t){r.getSupportedExtensions().indexOf(name)&&r.getExtension(t)||console.log("Could not enable extension: "+t)}),a(),window.addEventListener("resize",a)}catch(t){}if(!r)throw new Error("Could not initialise WebGL");return r}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createBuffer=function(t,n,e,r){var u=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,n,r||t.STATIC_DRAW),{type:function(t){switch(t){case"Int8Array":return WebGLRenderingContext.BYTE;case"Int16Array":return WebGLRenderingContext.SHORT;case"Uint8Array":return WebGLRenderingContext.UNSIGNED_BYTE;case"Uint16Array":return WebGLRenderingContext.UNSIGNED_SHORT;case"Float32Array":default:return WebGLRenderingContext.FLOAT}}(n.constructor.name),buffer:u,itemSize:e,numItems:n.length/e}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mergeObjBuffers=function(t,n){if(!t)return n;var e=t.position.length/3;return{position:t.position.concat(n.position),coords:t.coords.concat(n.coords),indices:t.indices.concat(n.indices.map(function(t){return t+e}))}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.framebufferToImage=function(t,n,e,r){var u=new Uint8Array(e*r*4);t.bindFramebuffer(t.FRAMEBUFFER,n),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,u);var a=document.createElement("canvas");a.width=e,a.height=r;var o=a.getContext("2d"),i=o.createImageData(e,r);return i.data.set(u),o.putImageData(i,0,0),o.globalCompositeOperation="copy",o.scale(1,-1),o.translate(0,-r),o.drawImage(a,0,0),a.toDataURL("image/png")}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.convertTrianglesToBufferArrays=function(t){var n=[],e=[],r=[],u=0;return t.forEach(function(t){var a=t.p1,o=t.p2,i=t.p3;n=n.concat([a[0],a[1],0,o[0],o[1],0,i[0],i[1],0]),e=t.curve?e.concat([-1,1,t.curve,0,-1,t.curve,1,1,t.curve]):e.concat([0,0,0,0,0,0,0,0,0]),r=r.concat([u,u+1,u+2]),u+=3}),{position:n,coords:e,indices:r}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.poseToMatrix=function(t,n){var e=n.orientation?n.orientation:[0,0,0,1],r=n.position?n.position:[0,0,0],u=e[0]+e[0],a=e[1]+e[1],o=e[2]+e[2],i=e[0]*u,c=e[0]*a,f=e[0]*o,s=e[1]*a,l=e[1]*o,d=e[2]*o,h=e[3]*u,M=e[3]*a,m=e[3]*o;return t[0]=1-(s+d),t[1]=c+m,t[2]=f-M,t[3]=0,t[4]=c-m,t[5]=1-(i+d),t[6]=l+h,t[7]=0,t[8]=f+M,t[9]=l-h,t[10]=1-(i+s),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(3);n.loadXML=function(t){return new Promise(function(n,e){var u=new XMLHttpRequest;u.open("GET",t),u.overrideMimeType("text/xml"),u.onreadystatechange=function(){u.readyState===XMLHttpRequest.DONE&&200===u.status&&n(r.xmlToJSON(u.responseXML))},u.send()})}},function(t,n,e){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t};Object.defineProperty(n,"__esModule",{value:!0});var u=e(2),a=e(5),o={level:0,internalFormat:WebGLRenderingContext.RGBA,border:0,srcFormat:WebGLRenderingContext.RGBA,srcType:WebGLRenderingContext.UNSIGNED_BYTE,mipmap:!1};n.loadTexture=function(t,n,e){e=r({},o,e);var i=new Image,c=u.createTexture(t,Object.assign({width:1,height:1},e)),f={texture:c,image:i,width:0,height:0};return i.onload=function(){f.width=i.width,f.height=i.height,t.bindTexture(t.TEXTURE_2D,c),t.texImage2D(t.TEXTURE_2D,e.level,e.internalFormat,e.srcFormat,e.srcType,i),e.mipmap&&a.generateMipmap(t,c,r({width:i.width,height:i.height},e))},i.src=n,f}},function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(u,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function i(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?u(t.value):new e(function(n){n(t.value)}).then(o,i)}c((r=r.apply(t,n||[])).next())})},u=this&&this.__generator||function(t,n){var e,r,u,a,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;switch(r=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){o.label=a[1];break}if(6===a[0]&&o.label<u[1]){o.label=u[1],u=a;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(a);break}u[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(t,o)}catch(t){a=[6,t],r=0}finally{e=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),o=e(6);n.loadProgram=function(t,n,e){return r(this,void 0,void 0,function(){var r;return u(this,function(u){switch(u.label){case 0:return[4,Promise.all([a.loadFile(n),a.loadFile(e)])];case 1:return r=u.sent(),[2,o.createProgram(t,r[0],r[1])]}})})}},function(t,n,e){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t},u=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(u,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function i(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?u(t.value):new e(function(n){n(t.value)}).then(o,i)}c((r=r.apply(t,n||[])).next())})},a=this&&this.__generator||function(t,n){var e,r,u,a,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;switch(r=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){o.label=a[1];break}if(6===a[0]&&o.label<u[1]){o.label=u[1],u=a;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(a);break}u[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(t,o)}catch(t){a=[6,t],r=0}finally{e=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e(0),i=e(7),c=e(1),f=e(8),s={group:/\bg\s+([^\s]+)\b/,vertex:/\bv\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\b/,texCoord:/\bvt\s+([^\s]+)\s+([^\s]+)\b/,normal:/\bvn\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\b/,triangle:/\bf\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\b/,mtllib:/\bmtllib\s+(.*)\b/,usemtl:/\busemtl\s+(.*)\b/},l=function(t){return parseInt(t,10)-1};n.loadObj=function(t){return u(this,void 0,void 0,function(){var n,e,d,h,M,m,b,p,v,E,T,w,g,_,x,y,R,A,P,L,O,N,F,S,I,q=this;return a(this,function(D){switch(D.label){case 0:return n=i.dirname(t),[4,o.loadFile(t)];case 1:return e=D.sent(),d=e.split("\n"),h=[],M=[],m=[],b={},p=[],v={indices:[]},E={},T={},d.forEach(function(t){return u(q,void 0,void 0,function(){var e,u,o,i,d,w,g,_,x,y,R,A,P,L,O;return a(this,function(a){switch(a.label){case 0:return(e=t.match(s.mtllib))?(u=n+e[1],o=[{},E],[4,f.loadMtl(u)]):[3,2];case 1:return E=r.apply(void 0,o.concat([a.sent()])),[2];case 2:if(e=t.match(s.usemtl))return v.material=e[1],[2];if(e=t.match(s.group))return i=e[1],v={name:i,indices:[]},b[i]=v,[2];if(e=t.match(s.vertex))return g=parseFloat(e[1]),_=parseFloat(e[2]),x=parseFloat(e[3]),p.push(c.vec3.fromValues(g,_,x)),[2];if(e=t.match(s.texCoord))return d=parseFloat(e[1]),w=parseFloat(e[2]),M.push(c.vec2.fromValues(d,w)),[2];if(e=t.match(s.normal))return g=parseFloat(e[1]),_=parseFloat(e[2]),x=parseFloat(e[3]),h.push(c.vec3.fromValues(g,_,x)),[2];if(e=t.match(s.triangle)){for(y=[],R=1,A=Math.min(4,e.length);R<A;R++)P=e[R].split("/").map(l),L=P.join("/"),O=void 0,L in T?O=T[L]:(O=m.push(P)-1,T[L]=O),y.push(O);return v.indices=v.indices.concat(y),[2]}return[2]}})})}),T=null,w=Number.MIN_VALUE,g=Number.MIN_VALUE,_=Number.MIN_VALUE,x=Number.MAX_VALUE,y=Number.MAX_VALUE,R=Number.MAX_VALUE,p.forEach(function(t){w=Math.max(w,t[0]),g=Math.max(g,t[1]),_=Math.max(_,t[2]),x=Math.min(x,t[0]),y=Math.min(y,t[1]),R=Math.min(R,t[2])}),O=(A=w-x)/2+x,N=(P=g-y)/2+y,F=(L=_-R)/2+R,p.forEach(function(t){t[0]-=O,t[1]-=N,t[2]-=F}),S=Math.max(A,Math.max(P,L)),I=1/S,p.forEach(function(t){t[0]*=I,t[1]*=I,t[2]*=I}),[2,{positions:p,normals:h,texCoords:M,vertices:m,groups:b,materials:E}]}})})}},function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(u,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function i(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?u(t.value):new e(function(n){n(t.value)}).then(o,i)}c((r=r.apply(t,n||[])).next())})},u=this&&this.__generator||function(t,n){var e,r,u,a,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;switch(r=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){o.label=a[1];break}if(6===a[0]&&o.label<u[1]){o.label=u[1],u=a;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(a);break}u[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(t,o)}catch(t){a=[6,t],r=0}finally{e=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e(0);n.loadJSON=function(t){return r(this,void 0,void 0,function(){var n,e;return u(this,function(r){switch(r.label){case 0:return e=(n=JSON).parse,[4,a.loadFile(t)];case 1:return[2,e.apply(n,[r.sent()])]}})})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(1);n.orbitControls=function(t,n){var e=r.vec3.create(),u=r.vec3.fromValues(0,1,0),a=r.vec3.fromValues(0,0,0),o=Math.PI,i=r.vec2.create(),c=r.vec2.create(),f=r.vec2.create(),s=r.vec2.fromValues(n.clientWidth,n.clientHeight),l=r.vec3.create(),d=r.vec3.create(),h=r.vec3.create(),M=r.vec3.create(),m=r.mat4.create(),b=r.vec3.create(),p=r.vec3.create(),v=r.vec3.create(),E=function(t){window.addEventListener("mousemove",T),window.addEventListener("mouseup",w),r.vec2.set(i,t.pageX,t.pageY)},T=function(n){r.vec2.set(c,n.pageX,n.pageY),r.vec2.subtract(f,c,i),r.vec2.divide(f,f,s),r.vec2.scale(f,f,o),r.vec3.copy(l,e),r.vec3.copy(d,a),r.vec3.negate(h,e),r.vec3.cross(M,h,u),r.vec3.normalize(M,M),1===n.buttons?(r.mat4.identity(m),r.mat4.rotate(m,m,-f[0],u),r.mat4.rotate(m,m,-f[1],M),r.vec3.transformMat4(l,l,m)):2===n.buttons&&(r.vec3.copy(b,M),r.vec3.scale(b,b,1*-f[0]),r.vec3.copy(p,u),r.vec3.scale(p,p,1*f[1]),r.vec3.set(v,0,0,0),r.vec3.add(v,v,b),r.vec3.add(v,v,p),r.vec3.add(l,l,v),r.vec3.add(d,d,v)),r.mat4.lookAt(t,l,d,u)},w=function(){window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",w),r.vec3.copy(e,l),r.vec3.copy(a,d)},g=function(n){r.vec3.scale(e,e,1+(n.deltaY>0?.1:-.1)),r.mat4.lookAt(t,e,a,u)},_=function(t){t.preventDefault()};return r.mat4.getTranslation(e,t),r.vec3.negate(e,e),n.addEventListener("mousedown",E),n.addEventListener("wheel",g),n.addEventListener("contextmenu",_,!1),function(){n.removeEventListener("mousedown",E),n.removeEventListener("wheel",g),n.removeEventListener("contextmenu",_),window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",w)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(1);n.freenavControls=function(t,n){var e,u=r.vec3.create(),a=r.vec3.create(),o=r.vec3.create(),i=r.mat4.create(),c=r.vec3.create(),f=r.vec3.create(),s=r.vec3.create(),l={x:0,y:0},d={x:0,y:0},h=r.vec3.create(),M=[{keys:[87],action:function(t){v(),r.vec3.scale(h,o,5),r.vec3.add(t,t,h)}},{keys:[83],action:function(t){v(),r.vec3.scale(h,o,-5),r.vec3.add(t,t,h)}},{keys:[65],action:function(t){v(),r.vec3.scale(h,u,5),r.vec3.add(t,t,h)}},{keys:[68],action:function(t){v(),r.vec3.scale(h,u,-5),r.vec3.add(t,t,h)}},{keys:[32],action:function(t){v(),r.vec3.scale(h,a,-5),r.vec3.add(t,t,h)}},{keys:[17,67],action:function(t){v(),r.vec3.scale(h,a,5),r.vec3.add(t,t,h)}}],m={},b=[],p={},v=function(){r.vec3.set(u,t[0],t[4],t[8]),r.vec3.set(a,t[1],t[5],t[9]),r.vec3.set(o,t[2],t[6],t[10])},E=function(n){l.x=n.pageX,l.y=n.pageY,r.mat4.invert(i,t),r.vec3.set(c,i[12],i[13],i[14]),r.vec3.negate(f,c),window.addEventListener("mousemove",w),window.addEventListener("mouseup",g)},T=function(){e=requestAnimationFrame(T),b.length&&(r.vec3.set(s,0,0,0),b.forEach(function(t){t.action(s)}),r.vec3.subtract(c,c,s),r.vec3.negate(f,c),r.mat4.translate(t,t,s))},w=function(e){d.x=(e.pageX-l.x)/n.width,d.y=(e.pageY-l.y)/n.height,v(),r.mat4.translate(t,t,c),r.mat4.rotateY(t,t,d.x*Math.PI),v(),r.mat4.rotate(t,t,d.y*Math.PI,u),r.mat4.translate(t,t,f),l.x=e.pageX,l.y=e.pageY},g=function(){window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",g)},_=function(t){!p.hasOwnProperty(t.which)&&m.hasOwnProperty(t.which)&&b.indexOf(m[t.which])<0&&(p[t.which]=!0,b.push(m[t.which]))},x=function(t){if(p.hasOwnProperty(t.which)&&m.hasOwnProperty(t.which)){delete p[t.which];var n=m[t.which],e=b.indexOf(n);e>=0&&b.splice(e,1)}};return M.forEach(function(t){t.keys.forEach(function(n){m[n]=t})}),e=requestAnimationFrame(T),n.addEventListener("mousedown",E),window.addEventListener("keydown",_),window.addEventListener("keyup",x),function(){cancelAnimationFrame(e),n.removeEventListener("mousedown",E),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",g),window.removeEventListener("keydown",_),window.removeEventListener("keyup",x)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createRenderer=function(t,n){var e,r,u=0,a=window,o=function(t){e=a.requestAnimationFrame(o),r=t-u,u=t,n(r)};return{isPlaying:function(){return null!==e},stop:function(){a.cancelAnimationFrame(e),e=null},start:function(n){a=n||a,t(),e=a.requestAnimationFrame(o)}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(24);n.createRenderer=r.createRenderer;var u=e(23);n.freenavControls=u.freenavControls;var a=e(22);n.orbitControls=a.orbitControls;var o=e(0);n.loadFile=o.loadFile;var i=e(21);n.loadJSON=i.loadJSON;var c=e(8);n.loadMtl=c.loadMtl;var f=e(20);n.loadObj=f.loadObj;var s=e(19);n.loadProgram=s.loadProgram;var l=e(18);n.loadTexture=l.loadTexture;var d=e(17);n.loadXML=d.loadXML;var h=e(16);n.poseToMatrix=h.poseToMatrix;var M=e(15);n.convertTrianglesToBufferArrays=M.convertTrianglesToBufferArrays;var m=e(7);n.dirname=m.dirname;var b=e(14);n.framebufferToImage=b.framebufferToImage;var p=e(4);n.isPowerOf2=p.isPowerOf2;var v=e(13);n.mergeObjBuffers=v.mergeObjBuffers;var E=e(3);n.xmlToJSON=E.xmlToJSON;var T=e(12);n.createBuffer=T.createBuffer;var w=e(11);n.createContext=w.createContext;var g=e(10);n.createElementBuffer=g.createElementBuffer;var _=e(9);n.createFramebuffer=_.createFramebuffer;var x=e(6);n.createProgram=x.createProgram;var y=e(2);n.createTexture=y.createTexture;var R=e(5);n.generateMipmap=R.generateMipmap}])});